(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.dline={}))})(this,function(a){'use strict';var t=Math.ceil,u=Math.max,v=Math.min,w=Math.pow,x=Math.floor,y=Math.acos,z=Math.cos,C=Math.sin,D=Math.abs,E=Math.PI;function b(a,b,c,e){var f=a[0]*E/180,g=b[0]*E/180,h=a[1]*E/180,i=b[1]*E/180,j="Long"===e?D(a[1]-b[1]):"Lat"===e?D(a[0]-b[0]):NaN,d=6372795*y(C(f)*C(g)+z(f)*z(g)*z(h-i));return j*c/d}function c(a,b,c,d,e,f,g){for(var h=Array(b),l=0;l<b;l++)h[l]=Array(c);for(var m,n,o=[],p=0;p<a.length;p++)m=D(g-a[p][1])/e,n=D(f-a[p][0])/d,h[x(n)][x(m)]=a[p][2],o.push([x(n),x(m),a[p][2]]);for(var q=0,r=0,s=0;s<b;s++)for(var t=0;t<c;t++)if(null==h[s][t]){for(var u=0;u<o.length;u++)q+=o[u][2]*(1/w(w(s-o[u][0],2)+w(t-o[u][1],2),2)),r+=1/w(w(s-o[u][0],2)+w(t-o[u][1],2),2);h[s][t]=q/r,q=0,r=0}return h}function d(a,d,e){var f=v.apply(null,a.map(function(a){return a[2]})),g=u.apply(null,a.map(function(a){return a[2]})),h=d[2]-d[0],i=d[3]-d[1],j=b([d[1],d[0]],[d[1],d[2]],e,"Long"),k=b([d[1],d[0]],[d[3],d[0]],e,"Lat"),l=t(h/j),m=t(i/k),n=c(a,m,l,k,j,d[1],d[0]);return{Grid:n,DeltaLat:k,DeltaLong:j,Grid_Min_Lat:d[1],Grid_Min_Long:d[0],Dot_Max_Z:g,Dot_Min_Z:f}}function e(a){for(var b=[],c=!0;0<a.length;){!0===c&&(b.push([]),b[b.length-1].push([a[0][0],a[0][1]],[a[0][2],a[0][3]]),a.splice(0,1)),c=!0;for(var d=0,e=a.length;d<e;d++){if(b[b.length-1][b[b.length-1].length-1][0]===a[d][0]&&b[b.length-1][b[b.length-1].length-1][1]===a[d][1]){b[b.length-1].push([a[d][2],a[d][3]]),a.splice(d,1),c=!1;break}else if(b[b.length-1][b[b.length-1].length-1][0]===a[d][2]&&b[b.length-1][b[b.length-1].length-1][1]===a[d][3]){b[b.length-1].push([a[d][0],a[d][1]]),a.splice(d,1),c=!1;break}if(b[b.length-1][0][0]===a[d][0]&&b[b.length-1][0][1]===a[d][1]){b[b.length-1].unshift([a[d][2],a[d][3]]),a.splice(d,1),c=!1;break}else if(b[b.length-1][0][0]===a[d][2]&&b[b.length-1][0][1]===a[d][3]){b[b.length-1].unshift([a[d][0],a[d][1]]),a.splice(d,1),c=!1;break}}}return b}function f(f,g,h,k,l){function m(a,b){if(0!==a&&0!==b&&b!==f[a].length-k-3&&a!==f.length-l-3)return 0;return 0===a&&0!==b&&b!==f[a].length-k-3?"c":0!==a&&b===f[a].length-k-3&&a!==f.length-l-3?"b":a===f.length-l-3&&0!==b&&b!==f[a].length-k-3?"a":0!==a&&0===b&&a!==f.length-l-3?"d":0===a&&b===f[a].length-k-3?"bc":a===f.length-l-3&&b===f[a].length-k-3?"ab":a===f.length-l-3&&0===b?"ad":0===a&&0===b?"cd":void 0}function n(a,b,d,c){return"a"===c?[a+1+E(f[a+2][b],f[a][b],d),b+.5,a+2.5,b+1+E(f[a+2][b+2],f[a+2][b],d)]:"b"===c?[a+2.5,b+1+E(f[a+2][b+2],f[a+2][b],d),a+1+E(f[a+2][b+2],f[a][b+2],d),b+2.5]:"c"===c?[a+1+E(f[a+2][b+2],f[a][b+2],d),b+2.5,a+.5,b+1+E(f[a][b+2],f[a][b],d)]:"d"===c?[a+1+E(f[a+2][b],f[a][b],d),b+.5,a+.5,b+1+E(f[a][b+2],f[a][b],d)]:"v"===c?[a+2.5,b+1+E(f[a+2][b+2],f[a+2][b],d),a+.5,b+1+E(f[a][b+2],f[a][b],d)]:"h"===c?[a+1+E(f[a+2][b],f[a][b],d),b+.5,a+1+E(f[a+2][b+2],f[a][b+2],d),b+2.5]:void 0}function o(a,b,d,c){return"t_l"===c?[a+2.5,b+.5,a+2.5,b+1+E(f[a+2][b+2],f[a+2][b],d)]:"t_r"===c?[a+2.5,b+2.5,a+2.5,b+1+E(f[a+2][b+2],f[a+2][b],d)]:"r_t"===c?[a+2.5,b+2.5,a+1+E(f[a+2][b+2],f[a][b+2],d),b+2.5]:"r_b"===c?[a+.5,b+2.5,a+1+E(f[a+2][b+2],f[a][b+2],d),b+2.5]:"b_l"===c?[a+.5,b+.5,a+.5,b+1+E(f[a][b+2],f[a][b],d)]:"b_r"===c?[a+.5,b+2.5,a+.5,b+1+E(f[a][b+2],f[a][b],d)]:"l_t"===c?[a+2.5,b+.5,a+1+E(f[a+2][b],f[a][b],d),b+.5]:"l_b"===c?[a+.5,b+.5,a+1+E(f[a+2][b],f[a][b],d),b+.5]:void 0}function p(a,b,c,d,e){if("t_c"===e)return[a+2.5,b+1+E(f[a+2][b+2],f[a+2][b],c),a+2.5,b+1+E(f[a+2][b+2],f[a+2][b],d)];return"b_c"===e?[a+.5,b+1+E(f[a][b+2],f[a][b],c),a+.5,b+1+E(f[a][b+2],f[a][b],d)]:void 0}function q(a,b,c,d,e){if("r_c"===e)return[a+1+E(f[a+2][b+2],f[a][b+2],c),b+2.5,a+1+E(f[a+2][b+2],f[a+2][b],d),b+2.5];return"l_c"===e?[a+1+E(f[a][b+2],f[a][b+2],c),b+.5,a+1+E(f[a][b+2],f[a][b],d),b+.5]:void 0}function r(a,b,c){"0000"!==a&&"1111"!==a&&"2222"!==a&&("2221"===a||"1112"===a?C.push(n(b,c,h,"d")):"0001"===a||"1110"===a?C.push(n(b,c,g,"d")):"2212"===a||"1121"===a?C.push(n(b,c,h,"c")):"0010"===a||"1101"===a?C.push(n(b,c,g,"c")):"2122"===a||"1211"===a?C.push(n(b,c,h,"b")):"0100"===a||"1011"===a?C.push(n(b,c,g,"b")):"1222"===a||"2111"===a?C.push(n(b,c,h,"a")):"1000"===a||"0111"===a?C.push(n(b,c,g,"a")):"0011"===a||"1100"===a?C.push(n(b,c,g,"h")):"2211"===a||"1122"===a?C.push(n(b,c,h,"h")):"0110"===a||"1001"===a?C.push(n(b,c,g,"v")):"2112"===a||"1221"===a?C.push(n(b,c,h,"v")):"2200"===a||"0022"===a?C.push(n(b,c,h,"h"),n(b,c,g,"h")):"2002"===a||"0220"===a?C.push(n(b,c,h,"v"),n(b,c,g,"v")):"2220"===a||"0002"===a?C.push(n(b,c,h,"d"),n(b,c,g,"d")):"2202"===a||"0020"===a?C.push(n(b,c,h,"c"),n(b,c,g,"c")):"2022"===a||"0200"===a?C.push(n(b,c,h,"b"),n(b,c,g,"b")):"0222"===a||"2000"===a?C.push(n(b,c,h,"a"),n(b,c,g,"a")):"1200"===a?C.push(n(b,c,h,"b"),n(b,c,g,"h")):"0120"===a?C.push(n(b,c,h,"c"),n(b,c,g,"v")):"0012"===a?C.push(n(b,c,h,"d"),n(b,c,g,"h")):"2001"===a?C.push(n(b,c,h,"a"),n(b,c,g,"v")):"1022"===a?C.push(n(b,c,g,"b"),n(b,c,h,"h")):"2102"===a?C.push(n(b,c,g,"c"),n(b,c,h,"v")):"2210"===a?C.push(n(b,c,g,"d"),n(b,c,h,"h")):"0221"===a?C.push(n(b,c,g,"a"),n(b,c,h,"v")):"1002"===a?C.push(n(b,c,h,"d"),n(b,c,g,"v")):"2100"===a?C.push(n(b,c,h,"a"),n(b,c,g,"h")):"0210"===a?C.push(n(b,c,h,"b"),n(b,c,g,"v")):"0021"===a?C.push(n(b,c,h,"c"),n(b,c,g,"h")):"1220"===a?C.push(n(b,c,g,"d"),n(b,c,h,"v")):"0122"===a?C.push(n(b,c,g,"a"),n(b,c,h,"h")):"2012"===a?C.push(n(b,c,g,"b"),n(b,c,h,"v")):"2201"===a?C.push(n(b,c,g,"c"),n(b,c,h,"h")):"0211"===a?C.push(n(b,c,g,"a"),n(b,c,h,"b")):"2110"===a?C.push(n(b,c,h,"a"),n(b,c,g,"d")):"1102"===a?C.push(n(b,c,g,"c"),n(b,c,h,"d")):"1021"===a?C.push(n(b,c,g,"b"),n(b,c,h,"c")):"2011"===a?C.push(n(b,c,h,"a"),n(b,c,g,"b")):"0112"===a?C.push(n(b,c,g,"a"),n(b,c,h,"d")):"1120"===a?C.push(n(b,c,h,"c"),n(b,c,g,"d")):"1201"===a?C.push(n(b,c,h,"b"),n(b,c,g,"c")):"2101"===a?C.push(n(b,c,h,"a"),n(b,c,g,"c")):"0121"===a?C.push(n(b,c,g,"a"),n(b,c,h,"c")):"1012"===a?C.push(n(b,c,g,"b"),n(b,c,h,"d")):"1210"===a?C.push(n(b,c,h,"b"),n(b,c,g,"d")):"2020"===a?0===A?C.push(n(b,c,h,"a"),n(b,c,g,"a"),n(b,c,h,"c"),n(b,c,g,"c")):1===A?C.push(n(b,c,h,"a"),n(b,c,g,"b"),n(b,c,h,"c"),n(b,c,g,"d")):2==A&&C.push(n(b,c,h,"b"),n(b,c,g,"b"),n(b,c,h,"d"),n(b,c,g,"d")):"0202"===a?0===A?C.push(n(b,c,h,"b"),n(b,c,g,"b"),n(b,c,h,"d"),n(b,c,g,"d")):1===A?C.push(n(b,c,g,"a"),n(b,c,h,"b"),n(b,c,g,"c"),n(b,c,h,"d")):2==A&&C.push(n(b,c,h,"a"),n(b,c,g,"a"),n(b,c,h,"c"),n(b,c,g,"c")):"0101"===a?0===A?C.push(n(b,c,g,"b"),n(b,c,g,"d")):1==A&&C.push(n(b,c,g,"a"),n(b,c,g,"c")):"1010"===a?0===A?C.push(n(b,c,g,"a"),n(b,c,g,"c")):1==A&&C.push(n(b,c,g,"b"),n(b,c,g,"d")):"2121"===a?1===A?C.push(n(b,c,h,"a"),n(b,c,h,"c")):2==A&&C.push(n(b,c,h,"b"),n(b,c,h,"d")):"1212"===a?1===A?C.push(n(b,c,h,"b"),n(b,c,h,"d")):2==A&&C.push(n(b,c,h,"a"),n(b,c,h,"c")):"2120"===a?1===A?C.push(n(b,c,h,"a"),n(b,c,h,"c"),n(b,c,g,"d")):2==A&&C.push(n(b,c,h,"b"),n(b,c,h,"d"),n(b,c,g,"d")):"2021"===a?1===A?C.push(n(b,c,h,"a"),n(b,c,g,"b"),n(b,c,h,"c")):2==A&&C.push(n(b,c,h,"b"),n(b,c,g,"b"),n(b,c,h,"d")):"1202"===a?1===A?C.push(n(b,c,h,"b"),n(b,c,g,"c"),n(b,c,h,"d")):2==A&&C.push(n(b,c,h,"a"),n(b,c,h,"c"),n(b,c,g,"c")):"0212"===a?1===A?C.push(n(b,c,g,"a"),n(b,c,h,"b"),n(b,c,h,"d")):2==A&&C.push(n(b,c,h,"a"),n(b,c,g,"a"),n(b,c,h,"c")):"0102"===a?0===A?C.push(n(b,c,g,"b"),n(b,c,h,"d"),n(b,c,g,"d")):1==A&&C.push(n(b,c,g,"a"),n(b,c,g,"c"),n(b,c,h,"d")):"0201"===a?0===A?C.push(n(b,c,h,"b"),n(b,c,g,"b"),n(b,c,g,"d")):1==A&&C.push(n(b,c,g,"a"),n(b,c,h,"b"),n(b,c,g,"c")):"1020"===a?0===A?C.push(n(b,c,g,"a"),n(b,c,h,"c"),n(b,c,g,"c")):1==A&&C.push(n(b,c,g,"b"),n(b,c,h,"c"),n(b,c,g,"d")):"2010"===a?0===A?C.push(n(b,c,h,"a"),n(b,c,g,"a"),n(b,c,g,"c")):1==A&&C.push(n(b,c,h,"a"),n(b,c,g,"c"),n(b,c,g,"d")):void 0)}function s(a,b,c){"01"===a?C.push(o(b,c,g,"t_r")):"02"===a?C.push(p(b,c,g,h,"t_c")):"10"===a?C.push(o(b,c,g,"t_l")):"11"===a?C.push([b+2.5,c+.5,b+2.5,c+2.5]):"12"===a?C.push(o(b,c,h,"t_l")):"20"===a?C.push(p(b,c,h,g,"t_c")):"21"===a?C.push(o(b,c,h,"t_r")):void 0}function t(a,b,c){"01"===a?C.push(o(b,c,g,"r_b")):"02"===a?C.push(q(b,c,g,h,"r_c")):"10"===a?C.push(o(b,c,g,"r_t")):"11"===a?C.push([b+.5,c+2.5,b+2.5,c+2.5]):"12"===a?C.push(o(b,c,h,"r_t")):"20"===a?C.push(q(b,c,h,g,"r_c")):"21"===a?C.push(o(b,c,h,"r_b")):void 0}function u(a,b,c){"01"===a?C.push(o(b,c,g,"b_l")):"02"===a?C.push(p(b,c,g,h,"b_c")):"10"===a?C.push(o(b,c,g,"b_r")):"11"===a?C.push([b+.5,c+.5,b+.5,c+2.5]):"12"===a?C.push(o(b,c,h,"b_r")):"20"===a?C.push(p(b,c,h,g,"b_c")):"21"===a?C.push(o(b,c,h,"b_l")):void 0}function v(a,b,c){"01"===a?C.push(o(b,c,g,"l_t")):"02"===a?C.push(q(b,c,g,h,"l_c")):"10"===a?C.push(o(b,c,g,"l_b")):"11"===a?C.push([b+.5,c+.5,b+2.5,c+.5]):"12"===a?C.push(o(b,c,h,"l_b")):"20"===a?C.push(q(b,c,h,g,"l_c")):"21"===a?C.push(o(b,c,h,"l_t")):void 0}for(var w,x,y,z,A,B,C=[],E=function(a,b,d){return D(b-d)/(D(b-d)+D(d-a))},F=0,G=f.length-l-2;F<G;F+=2)for(var H=0,I=f[F].length-k-2;H<I;H+=2)w=f[F+2][H]<g?"0":f[F+2][H]>=g&&f[F+2][H]<h?"1":f[F+2][H]>=h?"2":NaN,x=f[F+2][H+2]<g?"0":f[F+2][H+2]>=g&&f[F+2][H+2]<h?"1":f[F+2][H+2]>=h?"2":NaN,y=f[F][H+2]<g?"0":f[F][H+2]>=g&&f[F][H+2]<h?"1":f[F][H+2]>=h?"2":NaN,z=f[F][H]<g?"0":f[F][H]>=g&&f[F][H]<h?"1":f[F][H]>=h?"2":NaN,A=f[F+1][H+1]<g?0:f[F+1][H+1]>=g&&f[F+1][H+1]<h?1:f[F+1][H+1]>=h?2:NaN,r(w+x+y+z,F,H),B=m(F,H),0!==B&&("a"===B?s(w+x,F,H):"b"===B?t(x+y,F,H):"c"===B?u(y+z,F,H):"d"===B?v(z+w,F,H):"ab"===B?(s(w+x,F,H),t(x+y,F,H)):"bc"===B?(t(x+y,F,H),u(y+z,F,H)):"cd"===B?(u(y+z,F,H),v(z+w,F,H)):"ad"===B?(s(w+x,F,H),v(z+w,F,H)):void 0);return C}function g(a){return h(a)||i(a)||j()}function h(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function i(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function j(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function k(a,b,d){for(var e=d.length,f=e-1,g=!1,h=0;h<e;h++)(d[h][0]<=b&&b<d[f][0]||d[f][0]<=b&&b<d[h][0])&&a>(d[f][1]-d[h][1])*(b-d[h][0])/(d[f][0]-d[h][0])+d[h][1]&&(g=!g),f=h;return g}function l(a){var b=g(a);b.sort(function(c,a){return c.length-a.length}).reverse();for(var c,d={},e=0;e<b.length;e++){c=[];for(var f=0;f<b.length;f++)e!==f&&k(b[e][0][1],b[e][0][0],b[f])&&c.push(f);d[[e]]=c}for(var h,l=[],m=0;m<b.length;m++){for(var n in h=[],d)d[n][d[n].length-1]===m&&0==(d[n].length-1)%2&&h.push(b[n]);0!=(d[[m]].length-1)%2&&l.push([b[m]].concat(h))}return l}function m(a,b,c){function d(a,b,c){for(var d=c.toString().includes(".")?c.toString().split(".").pop().length:0,e=[],f=a;f>=b;)e.push(f),f-=c,f=parseFloat(f.toFixed(d));return e}switch(a.type){case"CustomValues":return a.values;case"Range":return d(a.max,a.min,a.step);case"FullRange":return d(b,c,a.step);}}function n(a,b,c,d,g,h,n,o){var p=0==a[0].length%2?1:0,q=0==a.length%2?1:0,r={type:"FeatureCollection",features:[]},s=[],t=[],u=m(b,n,o),v=u[0],w=1/0;s.push(e(f(a,v,w,p,q))),t.push("more than "+u[0]);for(var x=0;x<u.length-1;x++)v=u[x+1],w=u[x],s.push(e(f(a,v,w,p,q))),t.push(w);v=-Infinity,w=u[u.length-1],s.push(e(f(a,v,w,p,q))),t.push("less than "+u[u.length-1]);for(var y,z=0;z<s.length;z++)for(var A=0;A<s[z].length;A++)for(var B=0;B<s[z][A].length;B++)y=s[z][A][B][0]*c+g,s[z][A][B][0]=s[z][A][B][1]*d+h,s[z][A][B][1]=y;for(var C=0;C<s.length;C++)r.features.push({type:"Feature",properties:{value:t[C]},geometry:{type:"MultiPolygon",coordinates:l(s[C])}});return r}function o(a,d,e){var f=v.apply(Math,g(a.map(function(a){return a[0]}))),h=u.apply(null,a.map(function(a){return a[0]})),i=v.apply(null,a.map(function(a){return a[1]})),j=u.apply(null,a.map(function(a){return a[1]})),k=v.apply(null,a.map(function(a){return a[2]})),l=u.apply(null,a.map(function(a){return a[2]})),m=j-i,n=h-f,o=m*(100+e)/100,p=n*(100+e)/100,q=i-(o-m)/2,r=f-(p-n)/2,s=j+(o-m)/2,w=h+(p-n)/2,x=b([r,q],[r,s],d,"Long"),y=b([r,q],[w,q],d,"Lat"),z=t(o/x),A=t(p/y),B=c(a,A,z,y,x,r,q);return{Grid:B,DeltaLat:y,DeltaLong:x,Grid_Min_Lat:r,Grid_Min_Long:q,Grid_Max_Lat:w,Grid_Max_Long:s,Dot_Max_Z:l,Dot_Min_Z:k}}function p(f,g,h,k){function l(a,b,d,c){return"a"===c?[a+1+t(f[a+2][b],f[a][b],d),b+.5,a+2.5,b+1+t(f[a+2][b+2],f[a+2][b],d)]:"b"===c?[a+2.5,b+1+t(f[a+2][b+2],f[a+2][b],d),a+1+t(f[a+2][b+2],f[a][b+2],d),b+2.5]:"c"===c?[a+1+t(f[a+2][b+2],f[a][b+2],d),b+2.5,a+.5,b+1+t(f[a][b+2],f[a][b],d)]:"d"===c?[a+1+t(f[a+2][b],f[a][b],d),b+.5,a+.5,b+1+t(f[a][b+2],f[a][b],d)]:"v"===c?[a+2.5,b+1+t(f[a+2][b+2],f[a+2][b],d),a+.5,b+1+t(f[a][b+2],f[a][b],d)]:"h"===c?[a+1+t(f[a+2][b],f[a][b],d),b+.5,a+1+t(f[a+2][b+2],f[a][b+2],d),b+2.5]:void 0}function m(a,b,c){"0000"!==a&&"1111"!==a&&("1110"===a||"0001"===a?s.push(l(b,c,g,"d")):"1101"===a||"0010"===a?s.push(l(b,c,g,"c")):"1011"===a||"0100"===a?s.push(l(b,c,g,"b")):"0111"===a||"1000"===a?s.push(l(b,c,g,"a")):"1100"===a||"0011"===a?s.push(l(b,c,g,"h")):"1001"===a||"0110"===a?s.push(l(b,c,g,"v")):"1010"===a?0===r?s.push(l(b,c,g,"a"),l(b,c,g,"c")):1==r&&s.push(l(b,c,g,"b"),l(b,c,g,"d")):"0101"===a?0===r?s.push(l(b,c,g,"b"),l(b,c,g,"d")):1==r&&s.push(l(b,c,g,"a"),l(b,c,g,"c")):void 0)}for(var n,o,p,q,r,s=[],t=function(a,b,d){return D(b-d)/(D(b-d)+D(d-a))},u=0,v=f.length-k-2;u<v;u+=2)for(var w=0,x=f[u].length-h-2;w<x;w+=2)n=f[u+2][w]<=g?"0":"1",o=f[u+2][w+2]<=g?"0":"1",p=f[u][w+2]<=g?"0":"1",q=f[u][w]<=g?"0":"1",r=f[u+1][w+1]<=g?0:1,m(n+o+p+q,u,w);return s}function q(a,b,c,d,f,g,l,n){for(var o,q=[],r=[],s=0==a[0].length%2?1:0,t=0==a.length%2?1:0,u={type:"FeatureCollection",features:[]},v=m(b,l,n),w=0;w<v.length;w++)o=v[w],q.push(e(p(a,o,s,t))),r.push(o);for(var x,y=0;y<q.length;y++)for(var z=0;z<q[y].length;z++){for(var A=0;A<q[y][z].length;A++)x=q[y][z][A][0]*c+f,q[y][z][A][0]=q[y][z][A][1]*d+g,q[y][z][A][1]=x;u.features.push({type:"Feature",properties:{value:r[y]},geometry:{type:"LineString",coordinates:q[y][z]}})}return u}function r(a,b){var c=function(a){return a.map(function(a){return a*E/180})},d=c(a),e=c(b);return 6372795*y(C(d[0])*C(e[0])+z(d[0])*z(e[0])*z(d[1]-e[1]))}function s(a,b){var c=function(a){var b=t(a);return b%2?b:x(a)},d=[a[3],a[0]],e=[a[1],a[0]],f=r(e,d),g=c(f/b),h=D(a[1]-a[3])*b/f,i=[a[1],a[0]],j=[a[1],a[2]],k=r(j,i),l=c(k/b),m=D(a[0]-a[2])*b/k;return{latSize:g,longSize:l,degreeLatCellSize:h,degreeLongCellSize:m}}a.DrawGridWithExtrs=d,a.DrawIsobandsWithCustomGrid=function(a,b,c,d,e,f,g,h){return n(a,b,c,d,e,f,h,g)},a.DrawIsobandsWithExtrs=function(a,b,c,e){var f=d(a,e,c);return n(f.Grid,b,f.DeltaLat,f.DeltaLong,f.Grid_Min_Lat,f.Grid_Min_Long,f.Dot_Max_Z,f.Dot_Min_Z)},a.DrawIsobandsWithoutExtrs=function(a,b,c,d){var e=o(a,c,d),f=n(e.Grid,b,e.DeltaLat,e.DeltaLong,e.Grid_Min_Lat,e.Grid_Min_Long,e.Dot_Max_Z,e.Dot_Min_Z);return f},a.DrawIsolinesWitchCustomGrid=function(a,b,c,d,e,f,g){return q(a,b,c,c,d,e,g,f)},a.DrawIsolinesWithExtrs=function(a,b,c,e){var f=d(a,e,c);return q(f.Grid,b,f.DeltaLat,f.DeltaLong,f.Grid_Min_Lat,f.Grid_Min_Long,f.Dot_Max_Z,f.Dot_Min_Z)},a.DrawIsolinesWithoutExtrs=function(a,b,c,d){var e=o(a,c,d);return q(e.Grid,b,e.DeltaLat,e.DeltaLong,e.Grid_Min_Lat,e.Grid_Min_Long,e.Dot_Max_Z,e.Dot_Min_Z)},a.IDW=function(a,b){for(var c=b.bbox,e=b.exponent,f=b.cellSize,h=b.units,k=s(c,f),l=k.latSize,m=k.longSize,n=k.degreeLatCellSize,o=k.degreeLongCellSize,p=[],q="degrees"===h?a.map(function(a){return[D(c[1]-a[0])/n,D(c[0]-a[1])/o,a[2]]}):g(a),t=0;t<l;t++){p[t]=[];for(var d=function(a){var b="degrees"===h?[t+.5,a+.5]:[c[1]+(t+.5)*n,c[0]+(a+.5)*o],f=0,g=0;q.forEach(function(a){var c="degrees"===h?w(w(b[0]-a[0],2)+w(b[1]-a[1],2),2):r(a,b);f+=a[2]/w(c,e),g+=1/w(c,e)}),p[t][a]=f/g},u=0;u<m;u++)d(u)}return p},a.cellSizes=s,Object.defineProperty(a,"__esModule",{value:!0})});
